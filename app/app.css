@import "tailwindcss";

@theme {
  --font-sans:
    "Inter", ui-sans-serif, system-ui, sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";

  --unit: 4px;
  --size1: calc(var(--unit) * 1);
  --size2: calc(var(--unit) * 2);
  --size3: calc(var(--unit) * 3);
  --size4: calc(var(--unit) * 4);
  --size5: calc(var(--unit) * 5);
  --size6: calc(var(--unit) * 6);
  --size8: calc(var(--unit) * 8);
  --size10: calc(var(--unit) * 10);

  --stroke-width: 5px;
  --stroke-color: #480b38;
}

/* Hat color defaults
.ball-cap {
  --hat-color-1: #3e3030;
  --hat-color-2: #000000;
}

.beanie {
  --hat-color-1: #ff6b6b;
  --hat-color-2: #ffffff;
}

.beret {
  --hat-color-1: #1e3a8a;
  --hat-color-2: #000000;
}

.bucket-hat {
  --hat-color-1: #90ee90;
  --hat-color-2: #228b22;
}

.captain {
  --hat-color-1: #000080;
  --hat-color-2: #000000;
  --hat-color-3: #ffd700;
}

.chefs-hat {
  --hat-color-1: #ffffff;
  --hat-color-2: #f0f0f0;
}

.cowboy-hat {
  --hat-color-1: #8b4513;
  --hat-color-2: #654321;
}

.hard-hat {
  --hat-color-1: #ffd700;
  --hat-color-2: #ff4500;
}

.jester-hat {
  --hat-color-1: #ff1493;
  --hat-color-2: #9400d3;
  --hat-color-3: #ffd700;
}

.pirate {
  --hat-color-1: #000000;
  --hat-color-2: #ffffff;
  --hat-color-3: #8b0000;
}

.top-hat {
  --hat-color-1: #332e2e;
  --hat-color-2: #000000;
}

.crown {
  --hat-color-1: #ffd700;
  --hat-color-2: #ff0000;
  --hat-color-3: #0000ff;
  --hat-color-4: #00ff00;
}

.party-hat {
  --hat-color-1: #ff69b4;
  --hat-color-2: #ffd700;
  --hat-color-3: #ff1493;
}

.wizard-hat {
  --hat-color-1: #191970;
  --hat-color-2: #ffd700;
  --hat-color-3: #c0c0c0;
} */

html,
body {
  @apply bg-white dark:bg-gray-950;

  @media (prefers-color-scheme: dark) {
    color-scheme: dark;
  }
}

.builder-wrapper {
  width: max-content;
  padding: var(--size4);
  padding-top: 70px;
  justify-content: center;
}

.panels {
  display: flex;
  flex-direction: column;
  gap: var(--size4);
}

.panel {
  display: none;
  grid-template-columns: repeat(6, minmax(72px, 1fr));
  gap: var(--size2);

  &.active {
    display: grid;
  }
}

.option-button {
  display: flex;
  border: solid 1px #ccc;
  border-radius: 8px;
  padding: 8px;
  align-items: center;
  justify-content: center;
  width: 72px;
  height: 48px;

  &[aria-pressed="true"] {
    border-color: blue;
  }

  & svg {
    width: 24px;
    height: auto;
  }

  & .eyes svg {
    width: 12px;
  }
}

.eyes {
  display: flex;
  flex-direction: row;
  align-items: end;
  gap: var(--size3);
}

.panel-control {
  display: flex;
  background-color: #ccc;
  border-radius: 10px;
  padding: 2px;
  & button {
    border-radius: 8px;
    padding: 8px 12px;
    font-size: 12px;
    flex-grow: 1;

    &[aria-selected="true"] {
      background-color: #fff;
    }
  }
}

.blobby-swatch {
  width: 32px;
  height: 32px;
  border: solid 1.25px var(--stroke-color);
  border-radius: 100%;

  &.dawn {
    background: linear-gradient(
      310deg,
      #bca2f3 9%,
      #ff7aa2 55.26%,
      #f3d4a2 89.74%
    );
  }

  &.gold {
    background: linear-gradient(
      310deg,
      #feb13a 3.2%,
      #feb13a 12.62%,
      #fce69e 85.84%
    );
  }

  &.breeze {
    background: linear-gradient(310deg, #7c86d1 9%, #7affd9 72.27%);
  }

  &.purple {
    background: linear-gradient(310deg, #9b67e4 9%, #e1b4fa 72.27%);
  }

  &.lime {
    background: linear-gradient(310deg, #49da01 9%, #caff7a 66.06%);
  }

  &.red {
    background: linear-gradient(310deg, #f90000 9%, #fd9d9d 89.74%);
  }
}

.blobby-preview {
  position: relative;
  width: 150px;
  height: 150px;
  .color {
    width: 150px;
    height: 150px;

    & .blobby-swatch {
      border-width: 6px;
      height: 100%;
      width: 100%;
    }
  }

  & .face {
    position: absolute;
    left: 50%;
    top: 50%;
    display: flex;
    align-items: center;
    flex-direction: column;
    gap: var(--mouth-space, var(--size2));
    transform: translateX(calc(-50% + var(--face-x, 0px)))
      translateY(calc(-50% + var(--face-y, 0px)))
      rotate(var(--face-rotation, 0deg));
    & .eyes {
      gap: var(--eye-space, var(--size3));
    }
  }

  & .mouth {
    margin-top: -4px;
  }

  & .hat {
  }

  & .hat-wrapper {
    position: absolute;
    left: 50%;
    top: 0;
    transform: translate(-50%, -50%);

    & .ball-cap {
      transform: translate(20px, 20px);
    }

    & .beanie {
      transform: translate(-5px, 31px);
    }

    & .beret {
      transform: translate(-10px, 10px);
    }

    & .bucket-hat {
      transform: translate(0px, 40px);
    }

    & .captain {
      transform: translate(0px, 10px);
    }

    & .chefs-hat {
      transform: translate(-3px, 12px);
    }

    & .cowboy-hat {
      transform: translate(-3px, 10px);
    }

    & .hard-hat {
      transform: translate(2px, 15px);
    }

    & .jester-hat {
    }

    & .pirate {
      transform: translate(-8px, 4px);
    }

    & .top-hat {
      transform: translate(-5px, 0px);
    }

    & .wizard-hat {
      transform: translate(3px, -15px);
    }

    & .party-hat {
      transform: translate(-10px, -24px);
    }

    & .crown {
      transform: translate(-7px, -13px);
    }
  }
}

.face-controls {
  display: flex;
  align-items: center;
  gap: var(--size6);
}

.control-label {
  display: inline-block;
  width: 16px;
  font-size: 12px;
  margin-right: 8px;

  svg {
    width: 16px;
    height: 16px;
  }
}

.hat-color-controls {
  margin-top: 20px;
  padding: 15px;
  background: rgba(255, 255, 255, 0.05);
  border-radius: 8px;
  border: 1px solid rgba(255, 255, 255, 0.1);

  h3 {
    margin: 0 0 15px 0;
    font-size: 14px;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    color: rgba(255, 255, 255, 0.7);
  }

  .color-control {
    margin-bottom: 20px;

    label {
      display: flex;
      flex-direction: column;
      gap: 8px;

      span {
        font-size: 13px;
        color: rgba(255, 255, 255, 0.8);
        font-weight: 500;
      }

      .color-picker-wrapper {
        .react-colorful {
          width: 150px;
          height: 150px;
        }

        .react-colorful__saturation {
          border-radius: 4px;
        }

        .react-colorful__hue,
        .react-colorful__alpha {
          height: 12px;
          border-radius: 6px;
        }

        .react-colorful__pointer {
          width: 16px;
          height: 16px;
        }
      }
    }
  }
}

#my-popover {
  background: #333;
  color: white;
  font-weight: 400;
  padding: 1rem;
  max-width: 200px;
  line-height: 1.4;
  position: absolute;
  top: 1rem;
  left: 0;
  right: 0;
  margin: 0 auto;
  padding-top: 2rem;
}

.swatch {
  width: 16px;
  height: 16px;
  border: solid 1px #ccc;
  background-color: var(--swatchColor);
}

.swatch-button {
}

.color-popover {
  background-color: #fff;
  padding: 20px;
  position: absolute;
  position-area: top;
}
